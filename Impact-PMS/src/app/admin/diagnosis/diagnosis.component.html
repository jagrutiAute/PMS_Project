
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<br>
<h1 style="text-align: center;"><b>Diagnosis Details</b></h1><hr>
<br>

<div class="search-container" style="width: 30%;">
    <input type="text" placeholder=" Search..." class="form-control" name="diagnosis_code" [(ngModel)]="diagnosis_code"
        (ngModelChange)="search()">
   

</div>
<br>

<table class="table table-striped" style="font-size: 15px;">
    <thead>
        <tr style="background-color:#2f4b7c; color: seashell;">
            <th (click)="sort('id')" style="width: 12%">diagnosis_code&nbsp;<i class="fa fa-sort"></i></th>
            <th (click)="sort('title')" style="width: 18%">diagnosis_description&nbsp;<i class="fa fa-sort"></i></th>
            <th (click)="sort('firstName')" style="width: 9%">diagnosis_is_deprecated&nbsp;<i class="fa fa-sort"></i></th>
            <th style="width: 2%">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let medication of diagnosis | orderBy: key: reverse | paginate: {itemsPerPage:3,currentPage:p};">
            <td>{{medication.diagnosis_code}}</td>
            <td>{{medication.diagnosis_description}}</td>
            <td> {{medication.diagnosis_is_deprecated}}</td>
            
          
            <td>
              <button (click)="addDiagnosis(medication)" class="btn btn-lg" mat-raised-button color="accent">Add Diagnosis</button>
            </td>
        </tr>

    </tbody>

</table>
<br><br><br>
<div class="card" style="font-size: 17px;">
    <div class="card-header">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </div>
</div>
<br>
<div class="table table-striped" style="font-size: 15px;">

  
    <tbody>
        <tr *ngFor="let medicationObject of map | keyvalue">
        <td style="width: 8%">{{medicationObject.value.diagnosis_code}}</td>
        <td style="width: 8%">{{medicationObject.value.diagnosis_description}}</td>
        <td style="width: 8%"> {{medicationObject.value.diagnosis_is_deprecated}}</td>
        <!-- <td style="width: 8%">{{medicationObject.value.strength}}</td>
        <td style="width: 8%">{{medicationObject.value.referenceDrug}}</td>
        <td style="width: 8%">{{medicationObject.value.activeIngredient}}</td>
        <td style="width: 8%">{{medicationObject.value.referenceStandard}}</td> -->
        <td style="width: 0%"> 
            <!--<button (click)="deletePatient(patient.id)" class="btn btn-danger btn-lg">Delete</button>&nbsp; -->
            <button (click)="deleteDiagnosis(medicationObject.value.applNo)" class="btn btn-primary btn-lg">Delete</button>
            
</td>
       
      
        </tr>

       

</tbody>
<br>
<div style="margin-left: 2%;">
   
<button (click)="saveDiagnosis()" class="btn-lg" style="background-color: #003f5c; color: white;" [disabled]="map.size==0"> Save </button>
</div>
</div>


